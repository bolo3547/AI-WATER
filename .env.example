# AquaWatch NRW - Environment Variables Template
# ==============================================
# Copy this to .env and fill in your values
# NEVER commit .env to version control!

# =============================================================================
# ENVIRONMENT
# =============================================================================
AQUAWATCH_ENV=production
# Options: development, staging, production

# =============================================================================
# DATABASE (TimescaleDB)
# =============================================================================
DB_HOST=timescaledb
DB_PORT=5432
DB_NAME=aquawatch
DB_USER=aquawatch
DB_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# =============================================================================
# SECURITY
# =============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32

# Default admin credentials (change immediately after first login)
ADMIN_EMAIL=admin@yourcompany.com
ADMIN_PASSWORD=CHANGE_ME_IMMEDIATELY

# =============================================================================
# MQTT BROKER
# =============================================================================
MQTT_HOST=mosquitto
MQTT_PORT=1883
MQTT_USER=aquawatch
MQTT_PASSWORD=CHANGE_ME_MQTT_PASSWORD

# =============================================================================
# TWILIO (SMS & WhatsApp)
# =============================================================================
# Get from: https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# =============================================================================
# EMAIL (SendGrid)
# =============================================================================
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=alerts@aquawatch.example.com

# Alternative: SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# =============================================================================
# AFRICAN SMS PROVIDERS
# =============================================================================
# Africa's Talking (East/West Africa)
# Get from: https://account.africastalking.com/
AFRICAS_TALKING_USERNAME=your-username
AFRICAS_TALKING_API_KEY=your-api-key
AFRICAS_TALKING_SENDER_ID=AQUAWATCH

# BulkSMS (South Africa)
# Get from: https://www.bulksms.com/
BULKSMS_TOKEN=your-bulksms-token

# =============================================================================
# PUSH NOTIFICATIONS (Firebase)
# =============================================================================
# Get from: Firebase Console > Project Settings > Cloud Messaging
FCM_SERVER_KEY=AAAAxxxxxxxx:your-fcm-server-key

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_SECRET
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATA ENCRYPTION
# =============================================================================
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
ENCRYPTION_KEY=your-fernet-key-here

# =============================================================================
# REDIS (Caching & Sessions)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# =============================================================================
# WEBHOOK INTEGRATIONS
# =============================================================================
WEBHOOK_URL=https://your-external-system.com/webhook
WEBHOOK_SECRET=your-webhook-signing-secret

# =============================================================================
# MONITORING
# =============================================================================
# Prometheus metrics endpoint
METRICS_ENABLED=true
METRICS_PORT=9090

# Sentry error tracking
SENTRY_DSN=https://xxx@sentry.io/xxx

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_AI_ANOMALY_DETECTION=true
ENABLE_SMS_ALERTS=true
ENABLE_EMAIL_ALERTS=true
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_ESCALATION=true

# =============================================================================
# OPERATIONAL SETTINGS
# =============================================================================
# Minimum Night Flow window (UTC hours)
MNF_START_HOUR=2
MNF_END_HOUR=4

# Alert thresholds
PRESSURE_DROP_CRITICAL_BAR=0.5
PRESSURE_DROP_HIGH_BAR=0.3
PRESSURE_DROP_MEDIUM_BAR=0.15

# Rate limiting
API_RATE_LIMIT_PER_MINUTE=100
NOTIFICATION_RATE_LIMIT_PER_HOUR=10

# =============================================================================
# TELEGRAM
# =============================================================================
# Create bot with @BotFather
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# =============================================================================
# DOMAIN & SSL
# =============================================================================
DOMAIN=aquawatch.example.com
SSL_EMAIL=admin@example.com

# =============================================================================
# REDIS (Sessions & Cache)
# =============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
